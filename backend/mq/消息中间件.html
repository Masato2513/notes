<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>艾门传说</title>
    <meta name="description" content="门的成神之路">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/notes/assets/style.B8qXFnym.css" as="style">
    
    <script type="module" src="/notes/assets/app.DPkg4Mvc.js"></script>
    <link rel="preload" href="/notes/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/notes/assets/chunks/framework.BCGKjEAc.js">
    <link rel="modulepreload" href="/notes/assets/chunks/theme.BSBMl12k.js">
    <link rel="modulepreload" href="/notes/assets/backend_mq_消息中间件.md.DQjAT5Om.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/notes/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>艾门传说</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>后端</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/notes/backend/mq/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6.html" data-v-43f1e123><!--[-->消息中间件<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/notes/backend/nginx/nginx%E5%AD%90%E8%AF%B7%E6%B1%82%E9%89%B4%E6%9D%83.html" data-v-43f1e123><!--[-->Nginx<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/notes/backend/utils/DynamicMergeHeader.html" data-v-43f1e123><!--[-->Utils<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/notes/backend/java/Java-22/Java-22.html" data-v-43f1e123><!--[-->Java<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/notes/backend/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-43f1e123><!--[-->Linux常用命令<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://www.baidu.com" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://www.baidu.com" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>后端仔相关</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><section class="VPSidebarItem level-1 collapsible has-active" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>消息中间件</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/mq/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>MQ</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Nginx</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/nginx/nginx%E5%AD%90%E8%AF%B7%E6%B1%82%E9%89%B4%E6%9D%83.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>nginx子请求鉴权</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Utils</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/utils/DynamicMergeHeader.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>DynamicMergeHeader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/utils/exportWord.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>exportWord</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/utils/permissionControl.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>permissionControl</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Java</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/java/Java-22/Java-22.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>JDK-22</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Linux</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/notes/backend/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux常用命令</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _notes_backend_mq_%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6" data-v-39a288b8><div><blockquote><h2 id="_1、mq有哪些使用场景" tabindex="-1">1、MQ有哪些使用场景？ <a class="header-anchor" href="#_1、mq有哪些使用场景" aria-label="Permalink to &quot;1、MQ有哪些使用场景？&quot;">​</a></h2></blockquote><p><strong>异步处理</strong>：用户注册后，发送注册邮件和注册短信。用户注册完成后，提交任务到 MQ，发送模块并行获取 MQ 中的任务。</p><p><strong>系统解耦</strong>：比如用注册完成，再加一个发送微信通知。只需要新增发送微信消息模块，从 MQ 中读取任务，发送消息即可。无</p><p>需改动注册模块的代码，这样注册模块与发送模块通过 MQ 解耦。</p><p><strong>流量削峰</strong>：秒杀和抢购等场景经常使用 MQ 进行流量削峰。活动开始时流量暴增，用户的请求写入MQ，超过 MQ 最大长度丢</p><p>弃请求，业务系统接收 MQ 中的消息进行处理，达到流量削峰、保证系统可用性的目的。</p><p><strong>日志处理</strong>：日志采集方收集日志写入 kafka 的消息队列中，处理方订阅并消费 kafka 队列中的日志数据。</p><p><strong>消息通讯</strong>：点对点或者订阅发布模式，通过消息进行通讯。如微信的消息发送与接收、聊天室等。</p><blockquote><h2 id="_2、简单介绍一些rabbitmq的架构" tabindex="-1">2、简单介绍一些Rabbitmq的架构？ <a class="header-anchor" href="#_2、简单介绍一些rabbitmq的架构" aria-label="Permalink to &quot;2、简单介绍一些Rabbitmq的架构？&quot;">​</a></h2></blockquote><p>架构如下所示：</p><p><img src="/notes/assets/image-20220306165657544.BoabTQST.png" alt="image-20220306165657544"></p><p>消息的发送消息流程：</p><p>1、生产者和Rabbitmq服务端建立连接，然后获取通道</p><p>2、生产者发送消息发送给指定的虚拟机中的交换机</p><p>3、交换机根据消息的routingKey将消息转发给指定的队列</p><p>消费者消费消息流程：</p><p>1、消费者和Rabbitmq服务端建立连接，然后获取通道</p><p>2、消费者监听指定的队列</p><p>3、一旦队列有消息了此时就会把消息推送给指定的消费者</p><blockquote><h2 id="_3、rabbitmq中交换机的类型有哪些" tabindex="-1">3、Rabbitmq中交换机的类型有哪些？ <a class="header-anchor" href="#_3、rabbitmq中交换机的类型有哪些" aria-label="Permalink to &quot;3、Rabbitmq中交换机的类型有哪些？&quot;">​</a></h2></blockquote><p>主要有以下4种：</p><p><strong>fanout</strong>: 把所有发送到该交换器的消息路由到所有与该交换器绑定的队列中。</p><p><strong>direct</strong>:把消息路由到BindingKey和RoutingKey完全匹配的队列中。</p><p><strong>topic</strong>: 匹配规则：</p><p>​ RoutingKey 为一个 点号&#39;.&#39;: 分隔的字符串。比如: java.xiaoka.show</p><p>​ BindingKey和RoutingKey一样也是点号“.“分隔的字符串。</p><p>​ BindingKey可使用 * 和 # 用于做模糊匹配，*匹配一个单词，#匹配多个或者0个</p><p><strong>headers</strong>:不依赖路由键匹配规则路由消息。是根据发送消息内容中的headers属性进行匹配。性能差，基本用不到。</p><blockquote><h2 id="_4、如何保证消息不被重复消费" tabindex="-1">4、如何保证消息不被重复消费? <a class="header-anchor" href="#_4、如何保证消息不被重复消费" aria-label="Permalink to &quot;4、如何保证消息不被重复消费?&quot;">​</a></h2></blockquote><p>消息重复消费的原因：</p><p>1、生产者发送消息的时候，在指定的时间只能没有得到服务端的反馈，此时触发了重试机制，在Rabbitmq服务端就会出现重</p><p>复消费，那么消费者在进行消费的时候就出现了重复消费。</p><p>2、消费者消费完毕以后，消费方给MQ确认已消费的反馈，MQ 没有成功接受。该消息就不会从Rabbitmq删除掉，那么消费</p><p>者再一次获取到了消息进行消费。</p><p>MQ是无法保证消息不被重复消费的，只能业务系统层面考虑。不被重复消费的问题，就被转化为消息<strong>消费的幂等性</strong>的问题。幂</p><p>等性就是指一次和多次请求的结果一致，多次请求不会产生副作用。</p><p>保证消息消费的幂等性可以考虑下面的方式：</p><p>① 给消息生成全局 id，消费成功过的消息可以直接丢弃</p><p>② 消息中保存业务数据的主键字段，结合业务系统需求场景进行处理，避免多次插入、是否可以根据主键多次更新而并不影响</p><p>结果等</p><blockquote><h2 id="_5、如何保证消息不丢失" tabindex="-1">5、如何保证消息不丢失？ <a class="header-anchor" href="#_5、如何保证消息不丢失" aria-label="Permalink to &quot;5、如何保证消息不丢失？&quot;">​</a></h2></blockquote><p>消息丢失的发送的时机：</p><p>1、生产者发送消息的时候，由于网络抖动导致消息没有发送成功</p><p>2、消息发送到Rabbitmq的以后，Rabbitmq宕机了</p><p>3、消费者获取到MQ中的消息以后，还没有及时处理，此时消费者宕机了</p><p>解决方案：</p><p>1、生产者发送消息：主流的MQ都有<strong>确认机制或事务机制</strong>，可以保证生产者将消息送达到 MQ。如 RabbitMQ 就有事务模式</p><p>和 confirm模式。</p><p>2、MQ 丢失消息：开启 MQ 的持久化配置(消息、队列都需要进行持久化)。</p><p>3、消费者丢失消息：改为手动确认模式，消费者成功消费消息再确认。</p><blockquote><h2 id="_6、如何保证消息的顺序性" tabindex="-1">6、如何保证消息的顺序性？ <a class="header-anchor" href="#_6、如何保证消息的顺序性" aria-label="Permalink to &quot;6、如何保证消息的顺序性？&quot;">​</a></h2></blockquote><p>Rabbtimq：</p><p>1、将多个消息发送到一个队列中，队列本身就是先进先出的结构</p><p>2、避免多消费者并发消费同一个 queue 中的消息。</p><p>Kafka：</p><p>1、将多个消息发送到一个分区中，kafka可以保证一个分区中的消息的有序性</p><p>2、避免多消费者并发消费同一个分区中的消息。</p><blockquote><h2 id="_7、消息大量积压怎么解决" tabindex="-1">7、消息大量积压怎么解决？ <a class="header-anchor" href="#_7、消息大量积压怎么解决" aria-label="Permalink to &quot;7、消息大量积压怎么解决？&quot;">​</a></h2></blockquote><p>解决方案：</p><p>1、针对Rabbitmq可以使用惰性队列，让消息直接存储到磁盘中</p><p>2、增加消费者的数量，提升消费者的消费能力</p><blockquote><h2 id="_8、导致的死信的几种原因" tabindex="-1">8、导致的死信的几种原因？ <a class="header-anchor" href="#_8、导致的死信的几种原因" aria-label="Permalink to &quot;8、导致的死信的几种原因？&quot;">​</a></h2></blockquote><p>1、消息被拒（Basic.Reject /Basic.Nack) 且 requeue = false。</p><p>2、消息TTL过期。</p><p>3、队列满了，无法再添加。</p><blockquote><h2 id="_9、什么是延迟队列以及具体的应用场景" tabindex="-1">9、什么是延迟队列以及具体的应用场景？ <a class="header-anchor" href="#_9、什么是延迟队列以及具体的应用场景" aria-label="Permalink to &quot;9、什么是延迟队列以及具体的应用场景？&quot;">​</a></h2></blockquote><p>概述：存储对应的延迟消息，指当消息被发送以后，并不想让消费者立刻拿到消息，而是等待特定时间后，消费者才能拿到这</p><p>个消息进行消费。</p><p>应用场景：订单超时未支付，文章的延迟发送</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>最后更新于: <time datetime="2024-05-11T09:48:42.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><!----></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/notes/backend/nginx/nginx%E5%AD%90%E8%AF%B7%E6%B1%82%E9%89%B4%E6%9D%83.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>下一篇</span><span class="title" data-v-09de1c0f>nginx子请求鉴权</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>艾门传说 © 2024-present Masato</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"backend_linux_linux常用命令.md\":\"DU6ZJbbr\",\"markdown-examples.md\":\"BNQ3OwCq\",\"backend_mq_index.md\":\"CLJDQafP\",\"backend_mq_消息中间件.md\":\"DQjAT5Om\",\"backend_nginx_nginx子请求鉴权.md\":\"DxSOFP2N\",\"index.md\":\"BVPHSKna\",\"backend_utils_dynamicmergeheader.md\":\"eaxqf_Fu\",\"api-examples.md\":\"ZJb2TbGI\",\"backend_java_java-22_java-22.md\":\"DrZ9CM9k\",\"backend_utils_permissioncontrol.md\":\"Dnokigsa\",\"backend_utils_exportword.md\":\"C9uStPMF\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"艾门传说\",\"description\":\"门的成神之路\",\"base\":\"/notes/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"copyright\":\"艾门传说 © 2024-present Masato\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"long\"}},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"zh\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"后端\",\"items\":[{\"text\":\"消息中间件\",\"link\":\"/backend/mq/消息中间件\"},{\"text\":\"Nginx\",\"link\":\"/backend/nginx/nginx子请求鉴权\"},{\"text\":\"Utils\",\"link\":\"/backend/utils/DynamicMergeHeader\"},{\"text\":\"Java\",\"link\":\"/backend/java/Java-22/Java-22\"},{\"text\":\"Linux常用命令\",\"link\":\"/backend/linux/Linux常用命令\"}]}],\"sidebar\":[{\"text\":\"后端仔相关\",\"collapsed\":false,\"items\":[{\"text\":\"消息中间件\",\"collapsed\":true,\"items\":[{\"text\":\"MQ\",\"link\":\"/backend/mq/消息中间件\"}]},{\"text\":\"Nginx\",\"collapsed\":true,\"items\":[{\"text\":\"nginx子请求鉴权\",\"link\":\"/backend/nginx/nginx子请求鉴权\"}]},{\"text\":\"Utils\",\"collapsed\":true,\"items\":[{\"text\":\"DynamicMergeHeader\",\"link\":\"/backend/utils/DynamicMergeHeader\"},{\"text\":\"exportWord\",\"link\":\"/backend/utils/exportWord\"},{\"text\":\"permissionControl\",\"link\":\"/backend/utils/permissionControl\"}]},{\"text\":\"Java\",\"collapsed\":true,\"items\":[{\"text\":\"JDK-22\",\"link\":\"/backend/java/Java-22/Java-22\"}]},{\"text\":\"Linux\",\"collapsed\":true,\"items\":[{\"text\":\"Linux常用命令\",\"link\":\"/backend/linux/Linux常用命令\"}]}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://www.baidu.com\"}],\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"outline\":{\"label\":\"目录\",\"level\":[1,2]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>